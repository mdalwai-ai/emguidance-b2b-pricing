<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMGuidance Training and Compliance Pricing</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      /* EMGuidance CI Primary Colours */
      --color-dark-blue: #0E7CC1;
      --color-light-blue: #71B5DD;
      --color-dark-green: #74BBB9;
      --color-light-green: #90E0D7;
      /* EMGuidance CI Secondary Colours */
      --color-dark-grey: #333333;
      --color-grey: #929292;
      --color-light-grey: #F3F3F4;
      --color-yellow: #FADF9F;
      --color-light-yellow: #FBECC4;
      --color-error: #F25454;
      /* Derived tokens */
      --color-primary: var(--color-dark-blue);
      --color-accent: var(--color-dark-green);
      --color-bg: var(--color-light-grey);
      --color-card: #FFFFFF;
      --color-border: #DDE3ED;
      --color-text: var(--color-dark-grey);
      --color-text-muted: var(--color-grey);
      --radius-card: 12px;
      --shadow-card: 0 2px 12px rgba(0,0,0,0.08);
      --shadow-card-hover: 0 8px 32px rgba(0,0,0,0.12);
      --transition: all 0.2s ease;
    }

    body {
      font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
    }

    header {
      background: linear-gradient(135deg, var(--color-light-blue) 0%, var(--color-dark-blue) 100%);
      color: white;
      text-align: center;
      padding: 2.5rem 1rem;
    }

    header h1 {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    header p {
      font-size: 1rem;
      font-weight: 300;
      opacity: 0.9;
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 2rem 1rem 4rem;
    }

    /* Input Section */
    .input-section {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .input-section label {
      display: block;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--color-dark-blue);
      margin-bottom: 0.5rem;
    }

    .input-section input {
      font-family: 'Open Sans', sans-serif;
      width: 220px;
      padding: 0.75rem 1rem;
      font-size: 1.25rem;
      border: 2px solid var(--color-border);
      border-radius: 8px;
      text-align: center;
      transition: var(--transition);
    }

    .input-section input:focus {
      outline: none;
      border-color: var(--color-dark-blue);
      box-shadow: 0 0 0 3px rgba(14, 124, 193, 0.2);
    }

    .hint {
      font-size: 0.85rem;
      font-weight: 300;
      color: var(--color-text-muted);
      margin-top: 0.4rem;
    }

    .input-error {
      font-size: 0.85rem;
      color: var(--color-error);
      margin-top: 0.4rem;
      min-height: 1.2em;
    }

    /* Pricing Cards */
    .pricing-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      align-items: start;
      margin-bottom: 3rem;
    }

    .card {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-card);
      padding: 2rem 1.5rem;
      box-shadow: var(--shadow-card);
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .card:hover {
      box-shadow: var(--shadow-card-hover);
    }

    .card.recommended {
      transform: translateY(-8px);
      box-shadow: var(--shadow-card-hover);
      border: 2px solid var(--color-dark-green);
    }

    .recommended-badge {
      display: none;
    }

    .card.recommended .recommended-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--color-light-green) 0%, var(--color-dark-green) 100%);
      color: white;
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      align-self: flex-start;
    }

    .card-header h2 {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--color-dark-blue);
    }

    .card-header .tagline {
      font-size: 0.85rem;
      font-weight: 300;
      color: var(--color-text-muted);
    }

    .card-pricing {
      padding: 1rem 0;
      border-top: 1px solid var(--color-border);
      border-bottom: 1px solid var(--color-border);
      min-height: 110px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .per-user-price {
      font-size: 2rem;
      font-weight: 700;
      color: var(--color-dark-blue);
      display: block;
      line-height: 1.2;
    }

    .per-user-label {
      font-size: 0.8rem;
      font-weight: 300;
      color: var(--color-text-muted);
    }

    .total-cost {
      font-size: 0.9rem;
      font-weight: 300;
      color: var(--color-text-muted);
      margin-top: 0.5rem;
    }

    .total-cost.active {
      color: var(--color-text);
      font-weight: 400;
    }

    .annual-cost {
      font-size: 0.8rem;
      color: var(--color-text-muted);
    }

    .contact-sales {
      background: linear-gradient(135deg, var(--color-light-blue) 0%, var(--color-dark-blue) 100%);
      color: white;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      font-size: 0.95rem;
      font-weight: 700;
      line-height: 1.4;
    }

    .contact-sales small {
      display: block;
      font-weight: 300;
      opacity: 0.9;
      margin-top: 0.25rem;
      font-size: 0.8rem;
    }

    .enterprise-warning {
      background: var(--color-light-yellow);
      border: 1px solid var(--color-yellow);
      border-radius: 8px;
      padding: 0.6rem 0.75rem;
      font-size: 0.8rem;
      color: #7A5200;
      display: none;
    }

    .enterprise-warning.visible {
      display: block;
    }

    .feature-highlights {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      padding: 0;
    }

    .feature-highlights li {
      font-size: 0.85rem;
      font-weight: 400;
      color: var(--color-text);
      padding-left: 1.2em;
      position: relative;
    }

    .feature-highlights li::before {
      content: "\2713";
      position: absolute;
      left: 0;
      color: var(--color-dark-green);
      font-weight: 700;
    }

    .see-features {
      display: inline-block;
      font-size: 0.8rem;
      color: var(--color-dark-blue);
      text-decoration: none;
      margin-top: auto;
      padding-top: 0.5rem;
    }

    .see-features:hover {
      text-decoration: underline;
    }

    .table-wrapper {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 500px;
      background: var(--color-card);
    }

    table th {
      background: var(--color-dark-blue);
      color: white;
      padding: 0.75rem 1rem;
      text-align: left;
      font-size: 0.85rem;
      font-weight: 700;
    }

    table th.col-enterprise {
      background: #0a6aa8;
    }

    table tbody tr:nth-child(even) {
      background: var(--color-light-grey);
    }

    table td {
      padding: 0.65rem 1rem;
      border-bottom: 1px solid var(--color-border);
      font-size: 0.85rem;
      font-weight: 400;
    }

    table td.highlight {
      color: var(--color-dark-blue);
      font-weight: 700;
    }

    .check {
      color: var(--color-dark-green);
      font-weight: 700;
    }

    .cross {
      color: var(--color-error);
    }

    /* Features Section */
    .features-section {
      margin-bottom: 2rem;
    }

    .features-section h2 {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--color-dark-blue);
      margin-bottom: 1rem;
      text-align: center;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: 0.8rem;
      font-weight: 300;
      color: var(--color-text-muted);
      border-top: 1px solid var(--color-border);
    }

    /* Responsive */
    @media (max-width: 900px) {
      .pricing-cards {
        grid-template-columns: 1fr;
        max-width: 420px;
        margin-left: auto;
        margin-right: auto;
      }

      .card.recommended {
        transform: none;
        order: -1;
      }

      header h1 {
        font-size: 1.35rem;
      }

      .per-user-price {
        font-size: 1.75rem;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>EMGuidance Training and Compliance Pricing</h1>
  <p>Flexible training packages for teams of every size</p>
</header>

<main>
  <section class="input-section">
    <label for="user-count">How many users does your team have?</label>
    <input type="number" id="user-count" min="1" max="99999" placeholder="e.g. 150" aria-describedby="input-error">
    <p class="hint">Enter your total user count to see pricing</p>
    <p class="input-error" id="input-error" role="alert"></p>
  </section>

  <section class="pricing-cards">
    <!-- Essential -->
    <div class="card" id="card-essential">
      <div class="recommended-badge">Best Value</div>
      <div class="card-header">
        <h2>Essential</h2>
        <p class="tagline">Small teams getting started</p>
      </div>
      <div class="card-pricing">
        <span class="per-user-price" id="ppu-essential">&mdash;</span>
        <span class="per-user-label">per user / month</span>
        <div class="total-cost" id="total-essential">Enter user count above</div>
      </div>
      <ul class="feature-highlights">
        <li>Up to 25/5 CPD content</li>
        <li>1-10 own courses/SOPs</li>
        <li>Training dashboard</li>
        <li>Email support</li>
      </ul>
      <a href="#features" class="see-features">See full feature comparison &darr;</a>
    </div>

    <!-- Essential Pro -->
    <div class="card recommended" id="card-essential-pro">
      <div class="recommended-badge">Best Value</div>
      <div class="card-header">
        <h2>Essential Pro</h2>
        <p class="tagline">Growing teams with more needs</p>
      </div>
      <div class="card-pricing">
        <span class="per-user-price" id="ppu-essential-pro">&mdash;</span>
        <span class="per-user-label">per user / month</span>
        <div class="total-cost" id="total-essential-pro">Enter user count above</div>
      </div>
      <ul class="feature-highlights">
        <li>11-50 own courses/SOPs</li>
        <li>5 cohorts management</li>
        <li>Messaging included</li>
        <li>Email and chatbot support</li>
      </ul>
      <a href="#features" class="see-features">See full feature comparison &darr;</a>
    </div>

    <!-- Enterprise -->
    <div class="card" id="card-enterprise">
      <div class="recommended-badge">Best Value</div>
      <div class="card-header">
        <h2>Enterprise</h2>
        <p class="tagline">Large organisations (100+ users)</p>
      </div>
      <div class="enterprise-warning" id="warn-enterprise">
        Enterprise requires a minimum of 100 users.
      </div>
      <div class="card-pricing">
        <span class="per-user-price" id="ppu-enterprise">&mdash;</span>
        <span class="per-user-label">per user / month</span>
        <div class="total-cost" id="total-enterprise">Enter user count above</div>
      </div>
      <ul class="feature-highlights">
        <li>Unlimited courses/SOPs</li>
        <li>CPD Regulatory certificate</li>
        <li>Unlimited cohort management</li>
        <li>Dedicated customer success</li>
      </ul>
      <a href="#features" class="see-features">See full feature comparison &darr;</a>
    </div>
  </section>

  <!-- Feature Comparison -->
  <section class="features-section" id="features">
    <h2>Full Feature Comparison</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Feature</th>
            <th>Essential</th>
            <th>Essential Pro</th>
            <th class="col-enterprise">Enterprise</th>
          </tr>
        </thead>
        <tbody id="feature-table-body"></tbody>
      </table>
    </div>
  </section>
</main>

<footer>
  &copy; 2026 EMGuidance Training and Compliance. All prices in South African Rand (ZAR). Prices exclude VAT.
</footer>

<script>
  const TIERS = [
    { min: 1,    max: 49,       essential: 55, essentialPro: 65, enterprise: null },
    { min: 50,   max: 99,       essential: 45, essentialPro: 55, enterprise: null },
    { min: 100,  max: 499,      essential: 35, essentialPro: 45, enterprise: 75 },
    { min: 500,  max: 999,      essential: 25, essentialPro: 35, enterprise: 65 },
    { min: 1000, max: Infinity, essential: 20, essentialPro: 25, enterprise: 45 },
  ];

  const ENTERPRISE_MINIMUM = 100;
  const SALES_THRESHOLD = 500000;

  const FEATURES = [
    { label: "EMG CPD Content",                      essential: "Up to 30 points", essentialPro: "Up to 30 points", enterprise: "Up to 30 points" },
    { label: "Your Courses/SOPs",             essential: "1\u201310",              essentialPro: "11\u201350",             enterprise: "Unlimited",               enterpriseHighlight: true },
    { label: "Mobile App",                       essential: "yes",                   essentialPro: "yes",                   enterprise: "yes" },
    { label: "Discounts on Specialised Courses", essential: "yes",                   essentialPro: "yes",                   enterprise: "yes" },
    { label: "Training & Compliance Dashboard",  essential: "yes",                   essentialPro: "yes",                   enterprise: "yes" },
    { label: "CPD Regulatory Certificate",       essential: "no",                    essentialPro: "no",                    enterprise: "yes",                      enterpriseHighlight: true },
    { label: "Cohort Management",                essential: "1 cohort",              essentialPro: "5 cohorts",             enterprise: "Unlimited",               enterpriseHighlight: true },
    { label: "Messaging & Notifications",        essential: "Not Available",         essentialPro: "Messaging",             enterprise: "Messaging & Notifications", enterpriseHighlight: true },
    { label: "Support",                          essential: "Email only",            essentialPro: "Email & chatbot",       enterprise: "Dedicated customer success", enterpriseHighlight: true },
  ];

  function getTier(userCount) {
    if (!Number.isInteger(userCount) || userCount <= 0) return null;
    return TIERS.find(t => userCount >= t.min && userCount <= t.max) || null;
  }

  function formatRand(amount) {
    return "R" + amount.toLocaleString("en-ZA", { minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }

  function calculate() {
    var raw = document.getElementById("user-count").value.trim();
    var userCount = raw === "" ? null : parseInt(raw, 10);
    var tier = userCount !== null ? getTier(userCount) : null;

    updateCard("essential",     userCount, tier ? tier.essential    : null, false);
    updateCard("essential-pro", userCount, tier ? tier.essentialPro : null, false);
    updateCard("enterprise",    userCount, tier ? tier.enterprise   : null, true);
  }

  function updateCard(cardId, users, ppu, isEnterprise) {
    var ppuEl   = document.getElementById("ppu-" + cardId);
    var totalEl = document.getElementById("total-" + cardId);
    var warnEl  = document.getElementById("warn-" + cardId);

    // Enterprise warning
    if (isEnterprise && warnEl) {
      var tooFew = users !== null && users > 0 && users < ENTERPRISE_MINIMUM;
      warnEl.classList.toggle("visible", tooFew);
    }

    // No input yet
    if (users === null || users <= 0) {
      ppuEl.textContent = "\u2014";
      totalEl.textContent = "Enter user count above";
      totalEl.classList.remove("active");
      return;
    }

    // N/A state (Enterprise < 100)
    if (ppu === null) {
      ppuEl.textContent = "N/A";
      totalEl.textContent = "Not available for this user count";
      totalEl.classList.remove("active");
      return;
    }

    var monthlyTotal = ppu * users;
    var annualTotal = monthlyTotal * 12;

    // Sales threshold: annual > R500,000
    if (annualTotal > SALES_THRESHOLD) {
      ppuEl.textContent = "";
      totalEl.innerHTML = "";
      totalEl.classList.remove("active");

      var contactDiv = document.createElement("div");
      contactDiv.className = "contact-sales";
      contactDiv.innerHTML = "Contact our sales team<small>For teams of this size, our sales team will prepare a custom quote.</small>";

      // Clear pricing area and insert contact message
      var pricingEl = ppuEl.parentElement;
      pricingEl.innerHTML = "";
      pricingEl.appendChild(contactDiv);
      return;
    }

    // Normal calculated state
    ppuEl.textContent = formatRand(ppu) + " / user";
    totalEl.innerHTML =
      "<strong>" + formatRand(monthlyTotal) + "</strong> / month<br>" +
      '<span class="annual-cost">' + formatRand(annualTotal) + " / year</span>";
    totalEl.classList.add("active");
  }

  function renderCell(value, highlight) {
    var cls = highlight ? ' class="highlight"' : "";
    if (value === "yes") return "<td" + cls + '><span class="check" aria-label="Yes">&#10003;</span></td>';
    if (value === "no")  return '<td><span class="cross" aria-label="No">&#10007;</span></td>';
    return "<td" + cls + ">" + value + "</td>";
  }

  function renderFeatureTable() {
    var tbody = document.getElementById("feature-table-body");
    FEATURES.forEach(function(f) {
      var row = document.createElement("tr");
      row.innerHTML =
        '<td class="feature-name">' + f.label + "</td>" +
        renderCell(f.essential, false) +
        renderCell(f.essentialPro, false) +
        renderCell(f.enterprise, f.enterpriseHighlight || false);
      tbody.appendChild(row);
    });
  }

  function validateInput(value) {
    var errEl = document.getElementById("input-error");
    var n = parseFloat(value);

    if (value === "") {
      errEl.textContent = "";
      return true;
    }
    if (!Number.isInteger(n) || n < 1) {
      errEl.textContent = "Please enter a whole number of 1 or more.";
      return false;
    }
    if (n > 99999) {
      errEl.textContent = "For teams over 99,999 users, please contact sales directly.";
      return false;
    }
    errEl.textContent = "";
    return true;
  }

  // We need to restore card innerHTML after "contact sales" replaces it
  var cardTemplates = {};

  function saveCardTemplate(cardId) {
    var ppuEl   = document.getElementById("ppu-" + cardId);
    if (ppuEl) {
      cardTemplates[cardId] = ppuEl.parentElement.innerHTML;
    }
  }

  function restoreCard(cardId) {
    var pricingEl = document.querySelector("#card-" + cardId + " .card-pricing");
    if (pricingEl && cardTemplates[cardId]) {
      pricingEl.innerHTML = cardTemplates[cardId];
    }
  }

  // Override calculate to restore cards first
  var originalCalculate = calculate;
  calculate = function() {
    // Restore all cards to template state before recalculating
    ["essential", "essential-pro", "enterprise"].forEach(function(id) {
      restoreCard(id);
    });
    originalCalculate();
  };

  document.addEventListener("DOMContentLoaded", function() {
    renderFeatureTable();

    // Save original card HTML templates
    ["essential", "essential-pro", "enterprise"].forEach(saveCardTemplate);

    var input = document.getElementById("user-count");
    var debounceTimer;

    input.addEventListener("input", function() {
      clearTimeout(debounceTimer);
      debounceTimer = setTimeout(function() {
        if (validateInput(input.value)) {
          calculate();
        }
      }, 150);
    });

    // Initial empty state
    calculate();
  });
</script>

</body>
</html>
